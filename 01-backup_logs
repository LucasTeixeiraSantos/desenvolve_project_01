from datetime import datetime
import shutil
import os
import time

logs_directories = ["/var/log/syslog", "/var/log/auth.log"]
user_home = os.path.expanduser("~")
backup_destination = os.path.join(user_home, "backups", "01-backup_logs")

if not os.path.exists(backup_destination):
    os.makedirs(backup_destination)

start_time = time.time()

current_time = datetime.now().strftime("%Y-%m-%d_%H-%M-%S")

backup_filename = f"backup_{current_time}.tar.gz"
backup_filepath = os.path.join(backup_destination, backup_filename)

shutil.make_archive(backup_filepath, 'gztar', root_dir="/", base_dir="/var/log")

end_time = time.time()
elapsed_time = end_time - start_time

print("Backup created at:", backup_filepath)
print("Elapsed time:", elapsed_time, "seconds")
